<!DOCTYPE html>

<html>
<head>

<style>
*{
	margin:0px;
	padding:0px;
}
.phothoWrap{
		margin:0 auto;
		position:relative;
	}
.box{
	width:234px;
	padding-top:10px;
	padding-left:10px;
	
	float:left;
		
}
.box img{
	width:220px;
	padding:5px;
	border:2px solid #ccc;
	background:#ccc;
}
</style>
</head>

<body>
	<div class="phothoWrap">
		<div class="box">
			<img src="http://img.zcool.cn/community/01037d57d6cf1f0000018c1b2e25ff.JPG@1280w_1l_2o_100sh.jpg">
			
		</div>
		<div class="box">
			<img src="http://img16.3lian.com/gif2016/q19/94/48.jpg">
			
		</div>
		<div class="box">
			<img src="http://pic6.wed114.cn/20141103/2014110314130559502407.jpg">
			
		</div>
		<div class="box">
			<img src="http://img0.imgtn.bdimg.com/it/u=4169507887,2662315731&fm=27&gp=0.jpg">
			
		</div>
		<div class="box">
			<img src="http://cdn.duitang.com/uploads/item/201507/29/20150729224309_tyEAe.jpeg">
			
		</div>
		<div class="box">
			<img src="http://img.mb.moko.cc/2016-10-20/f9190d86-2c93-4a5f-9fac-7e07f9ea7af8.jpg?imageView2/2/w/915/h/915">
			
		</div>
		<div class="box">
			<img src="http://www.th7.cn/d/file/p/2012/01/03/c303bf1f73cc8151940a802f7677bef8.jpg">
			
		</div>
		<div class="box">
			<img src="http://img3.yxlady.com/fs/UploadFiles_2682/20160725/2016072515153702.jpg">
			
		</div>
		<div class="box">
			<img src="http://img00.hc360.com/cloth/201406/201406111746319397.jpg">
			
		</div>
		<div class="box">
			<img src="http://img4.cache.netease.com/cnews/2015/9/27/20150927174501059fb.jpg">
			<p></p>
		</div>
		<div class="box">
			<img src="http://s4.sinaimg.cn/mw690/003vZDgAgy6KQITRugjb3&690">
		</div>	
		
		<div class="box">
		<img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=288053890,1372682204&fm=27&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://img.kutoo8.com/upload/thumb/701285/ffb725444e8105544f0e6db936377791_320x480.jpg">
		</div>
		<div class="box">
		<img src="http://img.zcool.cn/community/01d1075556def40000009af0fd21e9.jpg@1280w_1l_2o_100sh.jpg">
		</div>
		<div class="box">
		<img src="http://s16.sinaimg.cn/middle/49932ffchc2991fc31b7f&690">
		</div>
		<div class="box">
		<img src="http://enjoy.eastday.com/eastday/enjoy1/2014slideshow/2014092401/images/02632417.jpg">
		</div>
		<div class="box">
		<img src="http://img1.ph.126.net/ESKRT7qftAwrORdZhiviog==/1578230194434522591.jpg">
		</div>
		<div class="box">
		<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1526808746070&di=20d3a39f32da53072a416384c23dfac3&imgtype=0&src=http%3A%2F%2Fs6.sinaimg.cn%2Fmw690%2F002KDSPGgy6JcSuJZIxf5%26690">
		</div>
		<div class="box">
		<img src="http://s16.sinaimg.cn/mw690/00688Qhgzy74AlQZzmDbf&690">
		</div>
		<div class="box">
		<img src="http://img0.imgtn.bdimg.com/it/u=3699718410,1968295902&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://s4.sinaimg.cn/mw690/001VmUm7ty6HIiEpV1p33&690">
		</div>
		<div class="box">
		<img src="http://5.595818.com/2014/pic/000/358/0b05e3080df5033289ae007224b00971.jpg">
		</div>
		<div class="box">
		<img src="http://img2.imgtn.bdimg.com/it/u=2745671102,1691231720&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://img.zcool.cn/community/013f8e55c36f946ac72558087747ac.jpg@2o.jpg">
		</div>
		<div class="box">
		<img src="http://pic6.wed114.cn/20141112/2014111215233005076427.jpg">
		</div>
		<div class="box">
		<img src="http://imgbbs.heiguang.net/forum/201407/14/153813zrvjrz9rc0b6ddr2.jpg">
		</div>
		<div class="box">
		<img src="http://s14.sinaimg.cn/mw690/0062gkYdzy6Uq6pmdt3dd&690">
		</div>
		<div class="box">
		<img src="http://img.zcool.cn/community/01de295a6f1b96a801213466b4d857.jpg@2o.jpg">
		</div>
		<div class="box">
		<img src="http://img5.ph.126.net/YA7iLAWU1Yrk_qxe5ZZzww==/2684426852906890405.jpg">
		</div>
		<div class="box">
		<img src="http://pic.baike.soso.com/p/20131221/20131221165703-58820668.jpg">
		</div>
		<div class="box">
		<img src="http://z.k1982.com/design_img/201309/20130925220552468.jpg">
		</div>
		<div class="box">
		<img src="http://img2.ph.126.net/bxtZ06j12rUvvnJOm_tm8Q==/4818570126409754831.jpg">
		</div>
		<div class="box">
		<img src="http://img3.imgtn.bdimg.com/it/u=3915240393,4011338873&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://img4.imgtn.bdimg.com/it/u=3632742804,641401023&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://img.zcool.cn/community/018d835556deb40000009c50530375.jpg@1280w_1l_2o_100sh.jpg">
		</div>
		<div class="box">
		<img src="http://p2.gexing.com/shaitu/20130716/1528/51e4f6236a91c.jpg">
		</div>
		<div class="box">
		<img src="http://s9.sinaimg.cn/mw690/002kiosLzy75X9N03cQ58&690">
		</div>
		<div class="box">
		<img src="http://img0.imgtn.bdimg.com/it/u=1756031400,151048088&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://img.pconline.com.cn/images/upload/upc/tx/photoblog/1409/05/c1/38284877_1409894411993.jpg">
		</div>
		<div class="box">
		<img src="http://img1.imgtn.bdimg.com/it/u=2328217331,3258222227&fm=214&gp=0.jpg">
		</div>
		<div class="box">
		<img src="http://s4.sinaimg.cn/mw690/002khbd4gy72qdU2X0D63&690">
		</div>
		<div class="box">
		<img src="http://img5q.duitang.com/uploads/item/201410/17/20141017231832_dHJLU.jpeg">
		</div>
		<div class="box">
		<img src="http://img2.imgtn.bdimg.com/it/u=3725152779,3060287799&fm=27&gp=0.jpg">
		</div>
	
	
	</div>
</div>

	
<script>

	window.onload=function(){
	var wrap=document.getElementsByClassName("phothoWrap")[0];
	var box=document.getElementsByClassName("box");
	var colse=parseInt(document.documentElement.clientWidth/box[0].offsetWidth);
	var height=[];
	wrap.style["width"]=colse*box[0].offsetWidth+"px";
	for(var i=0;i<colse;i++){
				height.push(box[i].offsetHeight);
			}
	waterfull(colse,box.length);
	
	function getHeight(height){
		minHeight=Math.min.apply(this,height);
		return minHeight;
			
		
		
	}
	function getindex(array,value){
		for(var i=0;i<array.length;i++){
			if(array[i]===value){
				return i;
			}
		}
	}
	
	function waterfull( start,end){
		for(var i=start;i<end;i++){
			min=getHeight(height);
			index=getindex(height,min);
			box[i].style["position"]="absolute";
			box[i].style["top"]=min+"px";
			box[i].style["left"]=box[i].offsetWidth*index+"px";
			height[index]+=box[i].offsetHeight;
			
		}
		
	}
	
	console.log(min,index)
	
	}
	//console.log(height);
</script>
</body>



</html>
